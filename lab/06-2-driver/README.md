# 设备驱动实验

## 题目

完善1.7节中字符设备程序，使之满足以下功能：

> 1. 安装设备后从设备中读出字符串为自己学号的后3位
> 2. 设备支持每次写入字符不超过1024个，超过部分被丢弃，并且能够保存最近一次修改前的rwbuf里的内容
> 3. 设备支持系统调用ioctl(int d, int req,…),共支持设置三种模式：
>    1. 清除设备中写入的字符串
>    2. 从设备中读时，读出的是最近一次修改前的内容
>    3. 从设备中读时，读出的是最新内容
> 4. 设备关闭前不能被多次打开

自己编写测试程序，验证以上功能

## 解答

TBD